<!DOCTYPE html>
<html>
<head>
	<title>归并排序</title>
</head>
<body>
	<script type="text/javascript">
		
		function mergeSort(arr) {
			// 判断是否是数组，不是则抛出错误
			if(!Array.isArray(arr)) throw new Error('传入的不是数组')

			const len = arr.length;

			// 判断长度是否小于等于1，是则直接返回
			if(len <= 1) return arr;

			//将数据分成左右组，对左右两组接着分组，直到数据长度为1，再进行合并
			const middle = Math.floor(len / 2),
			left = arr.slice(0,middle),
			right = arr.slice(middle);

			return merge(mergeSort(left), mergeSort(right))
		}

		function merge(left, right) {
			let result = [];

			while(left.length > 0 && right.length > 0) {
				// 左边的第一个元素和右边的第一个元素比较，大于的添加进入
				// 小于等于的话将left的第一个之加入
				if(left[0] > right[0]) {
					result.push(right.shift());
				} else {
					result.push(left.shift());
				}
			}

			return result.concat(left).concat(right)
		}

		const testArr = [2,4,1,'4',5322,234,104,61,1];
		console.log('排序前', testArr);

		console.log('排序后',mergeSort(testArr))
	</script>
	</script>
</body>
</html>