<!DOCTYPE html>
<html>
<head>
	<title>插入排序</title>
</head>
<body>
	<script type="text/javascript">
		
		function shellSort(arr) {
			// 判断是否是数组，不是则抛出错误
			if(!Array.isArray(arr)) {
				throw new Error('传入的不是数组')
			}

			const len = arr.length;

			// 判断长度是否小于等于1，是则直接返回
			if(len <= 1) {
				return arr;
			}

			/*
				设定增量序列取值h(整数)
				对相隔h的值进行插入排序
			*/
			
			for (let h = parseInt(len / 2); h > 0; h = parseInt(h / 2)) {
				for (var i = h; i < len; i++) {
					insertI(arr, h, i);
				}
			}

			return arr
		}

		// 按照增量序列h进行直接插入排序
		function insertI(arr, h, i) {
			const temp = arr[i];
			for (var j = i - h; j >= 0 && temp < arr[j]; j -= h) {
				arr[j+h] = arr[j]; 
			}
			// 没有变化的时候不赋值
			if(j + h !== i) {
				arr[j+h] = temp
			}
		}
		const testArr = [2,4,1,4,5322,234,104,61,1];

		console.log(shellSort(testArr))
	</script>
	</script>
</body>
</html>